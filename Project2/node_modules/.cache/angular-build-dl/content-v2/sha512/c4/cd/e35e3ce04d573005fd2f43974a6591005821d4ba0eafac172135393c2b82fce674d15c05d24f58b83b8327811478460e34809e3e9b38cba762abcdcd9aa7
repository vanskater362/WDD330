(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ptCZ:function(e,t,i){"use strict";i.r(t),i.d(t,"MileageTrackerPageModule",(function(){return g}));var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),b=i("tyNb"),a=i("fXoL"),l=i("XOPY");function s(e,t){1&e&&(a.Mb(0,"ion-item",17),a.Mb(1,"ion-label",18),a.ic(2,"From field is required."),a.Lb(),a.Lb())}function c(e,t){1&e&&(a.Mb(0,"ion-item",17),a.Mb(1,"ion-label",18),a.ic(2,"To field required."),a.Lb(),a.Lb())}function d(e,t){1&e&&(a.Mb(0,"ion-item",17),a.Mb(1,"ion-label",18),a.ic(2,"Total Miles required."),a.Lb(),a.Lb())}function u(e,t){1&e&&(a.Mb(0,"ion-item",17),a.Mb(1,"ion-label",18),a.ic(2,"Select a Date."),a.Lb(),a.Lb())}const m=[{path:"",component:(()=>{class e{constructor(e,t,i){this.authService=e,this.loadingCtrl=t,this.alertCtrl=i,this.tripData={id:"",from:"",to:"",total:null,date:null,userID:""},this.user=JSON.parse(localStorage.getItem("currentUser"))}ngOnInit(){}onSubmit(e){if(e.valid){this.registerSub&&this.registerSub.unsubscribe();var t=localStorage.getItem("currentUser");t=(t=t.replace(/(^\[)/,"")).replace(/(\]$)/,"");try{var i=JSON.parse(t)}catch(o){console.log("Error, not a valid JSON string")}this.tripData.from=e.value.from,this.tripData.to=e.value.to,this.tripData.total=e.value.totalMiles,this.tripData.date=e.value.date,this.tripData.userID=i.UserID,this.loadingCtrl.create({keyboardClose:!0,message:"Submitting Mileage..."}).then(t=>{t.present(),this.registerSub=this.authService.subMiles(this.tripData).subscribe(i=>{t.dismiss(),e.reset()},e=>{t.dismiss(),this.showAlert(e.error.message)})})}}showAlert(e){this.alertCtrl.create({header:"Activation failed",message:e,buttons:["Okay"]}).then(e=>e.present())}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(l.a),a.Jb(r.s),a.Jb(r.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-mileage-tracker"]],decls:41,vars:5,consts:[["color","primary"],[1,"ion-text-center"],[1,"register-form",3,"ngSubmit"],["f","ngForm"],["size","10","offset","1"],["position","floating"],["type","text","name","from","ngModel","","required",""],["fromCtrl","ngModel"],["lines","none",4,"ngIf"],["type","text","name","to","ngModel","","required",""],["toCtrl","ngModel"],["type","number","name","totalMiles","ngModel","","required",""],["totalMilesCtrl","ngModel"],[1,"margin-top-5"],["type","date","name","date","ngModel","","required",""],["dateCtrl","ngModel"],["type","submit","expand","full","color","secondary",3,"disabled"],["lines","none"],[1,"error-danger"]],template:function(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-header",0),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-title",1),a.ic(3,"Mileage Tracker"),a.Lb(),a.Lb(),a.Lb(),a.Mb(4,"ion-content",0),a.Mb(5,"form",2,3),a.Ub("ngSubmit",(function(){a.ec(e);const i=a.dc(6);return t.onSubmit(i)})),a.Mb(7,"ion-grid"),a.Mb(8,"ion-row"),a.Mb(9,"ion-col",4),a.Mb(10,"ion-item"),a.Mb(11,"ion-label",5),a.ic(12,"From"),a.Lb(),a.Kb(13,"ion-input",6,7),a.Lb(),a.hc(15,s,3,0,"ion-item",8),a.Lb(),a.Mb(16,"ion-col",4),a.Mb(17,"ion-item"),a.Mb(18,"ion-label",5),a.ic(19,"To"),a.Lb(),a.Kb(20,"ion-input",9,10),a.Lb(),a.hc(22,c,3,0,"ion-item",8),a.Lb(),a.Mb(23,"ion-col",4),a.Mb(24,"ion-item"),a.Mb(25,"ion-label",5),a.ic(26,"Total Miles"),a.Lb(),a.Kb(27,"ion-input",11,12),a.Lb(),a.hc(29,d,3,0,"ion-item",8),a.Lb(),a.Mb(30,"ion-col",4),a.Mb(31,"ion-item",13),a.Mb(32,"ion-label",5),a.ic(33,"Date"),a.Lb(),a.Kb(34,"ion-input",14,15),a.Lb(),a.hc(36,u,3,0,"ion-item",8),a.Lb(),a.Lb(),a.Mb(37,"ion-row"),a.Mb(38,"ion-col",4),a.Mb(39,"ion-button",16),a.ic(40," Log Mileage "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()}if(2&e){const e=a.dc(6),t=a.dc(14),i=a.dc(21),o=a.dc(28),n=a.dc(35);a.zb(15),a.bc("ngIf",!t.valid&&t.touched),a.zb(7),a.bc("ngIf",!i.valid&&i.touched),a.zb(7),a.bc("ngIf",!o.valid&&o.touched),a.zb(7),a.bc("ngIf",!n.valid&&n.touched),a.zb(3),a.bc("disabled",!e.valid)}},directives:[r.g,r.p,r.o,r.e,n.i,n.e,n.f,r.f,r.n,r.d,r.i,r.k,r.h,r.w,n.d,n.g,n.h,o.j,r.t,r.c],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[b.j.forChild(m)],b.j]}),e})(),g=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[o.b,n.b,r.q,M]]}),e})()}}]);