{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ptCZ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"MileageTrackerPageModule\",(function(){return mileage_tracker_module_MileageTrackerPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),authentication_service_service=__webpack_require__(\"XOPY\");function MileageTrackerPage_ion_item_15_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",17),core.Mb(1,\"ion-label\",18),core.ic(2,\"From field is required.\"),core.Lb(),core.Lb())}function MileageTrackerPage_ion_item_22_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",17),core.Mb(1,\"ion-label\",18),core.ic(2,\"To field required.\"),core.Lb(),core.Lb())}function MileageTrackerPage_ion_item_29_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",17),core.Mb(1,\"ion-label\",18),core.ic(2,\"Total Miles required.\"),core.Lb(),core.Lb())}function MileageTrackerPage_ion_item_36_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",17),core.Mb(1,\"ion-label\",18),core.ic(2,\"Select a Date.\"),core.Lb(),core.Lb())}const routes=[{path:\"\",component:(()=>{class MileageTrackerPage{constructor(authService,loadingCtrl,alertCtrl){this.authService=authService,this.loadingCtrl=loadingCtrl,this.alertCtrl=alertCtrl,this.tripData={id:\"\",from:\"\",to:\"\",total:null,date:null,userID:\"\"},this.user=JSON.parse(localStorage.getItem(\"currentUser\"))}ngOnInit(){}onSubmit(form){if(form.valid){this.registerSub&&this.registerSub.unsubscribe();var result=localStorage.getItem(\"currentUser\");result=(result=result.replace(/(^\\[)/,\"\")).replace(/(\\]$)/,\"\");try{var resultObj=JSON.parse(result)}catch(e){console.log(\"Error, not a valid JSON string\")}this.tripData.from=form.value.from,this.tripData.to=form.value.to,this.tripData.total=form.value.totalMiles,this.tripData.date=form.value.date,this.tripData.userID=resultObj.UserID,this.loadingCtrl.create({keyboardClose:!0,message:\"Submitting Mileage...\"}).then(loadingEl=>{loadingEl.present(),this.registerSub=this.authService.subMiles(this.tripData).subscribe(resData=>{loadingEl.dismiss(),form.reset()},errRes=>{loadingEl.dismiss(),this.showAlert(errRes.error.message)})})}}showAlert(message){this.alertCtrl.create({header:\"Activation failed\",message:message,buttons:[\"Okay\"]}).then(alertEl=>alertEl.present())}}return MileageTrackerPage.ɵfac=function(t){return new(t||MileageTrackerPage)(core.Jb(authentication_service_service.a),core.Jb(ionic_angular.s),core.Jb(ionic_angular.a))},MileageTrackerPage.ɵcmp=core.Db({type:MileageTrackerPage,selectors:[[\"app-mileage-tracker\"]],decls:41,vars:5,consts:[[\"color\",\"primary\"],[1,\"ion-text-center\"],[1,\"register-form\",3,\"ngSubmit\"],[\"f\",\"ngForm\"],[\"size\",\"10\",\"offset\",\"1\"],[\"position\",\"floating\"],[\"type\",\"text\",\"name\",\"from\",\"ngModel\",\"\",\"required\",\"\"],[\"fromCtrl\",\"ngModel\"],[\"lines\",\"none\",4,\"ngIf\"],[\"type\",\"text\",\"name\",\"to\",\"ngModel\",\"\",\"required\",\"\"],[\"toCtrl\",\"ngModel\"],[\"type\",\"number\",\"name\",\"totalMiles\",\"ngModel\",\"\",\"required\",\"\"],[\"totalMilesCtrl\",\"ngModel\"],[1,\"margin-top-5\"],[\"type\",\"date\",\"name\",\"date\",\"ngModel\",\"\",\"required\",\"\"],[\"dateCtrl\",\"ngModel\"],[\"type\",\"submit\",\"expand\",\"full\",\"color\",\"secondary\",3,\"disabled\"],[\"lines\",\"none\"],[1,\"error-danger\"]],template:function(rf,ctx){if(1&rf){const _r9=core.Nb();core.Mb(0,\"ion-header\",0),core.Mb(1,\"ion-toolbar\",0),core.Mb(2,\"ion-title\",1),core.ic(3,\"Mileage Tracker\"),core.Lb(),core.Lb(),core.Lb(),core.Mb(4,\"ion-content\",0),core.Mb(5,\"form\",2,3),core.Ub(\"ngSubmit\",(function(){core.ec(_r9);const _r0=core.dc(6);return ctx.onSubmit(_r0)})),core.Mb(7,\"ion-grid\"),core.Mb(8,\"ion-row\"),core.Mb(9,\"ion-col\",4),core.Mb(10,\"ion-item\"),core.Mb(11,\"ion-label\",5),core.ic(12,\"From\"),core.Lb(),core.Kb(13,\"ion-input\",6,7),core.Lb(),core.hc(15,MileageTrackerPage_ion_item_15_Template,3,0,\"ion-item\",8),core.Lb(),core.Mb(16,\"ion-col\",4),core.Mb(17,\"ion-item\"),core.Mb(18,\"ion-label\",5),core.ic(19,\"To\"),core.Lb(),core.Kb(20,\"ion-input\",9,10),core.Lb(),core.hc(22,MileageTrackerPage_ion_item_22_Template,3,0,\"ion-item\",8),core.Lb(),core.Mb(23,\"ion-col\",4),core.Mb(24,\"ion-item\"),core.Mb(25,\"ion-label\",5),core.ic(26,\"Total Miles\"),core.Lb(),core.Kb(27,\"ion-input\",11,12),core.Lb(),core.hc(29,MileageTrackerPage_ion_item_29_Template,3,0,\"ion-item\",8),core.Lb(),core.Mb(30,\"ion-col\",4),core.Mb(31,\"ion-item\",13),core.Mb(32,\"ion-label\",5),core.ic(33,\"Date\"),core.Lb(),core.Kb(34,\"ion-input\",14,15),core.Lb(),core.hc(36,MileageTrackerPage_ion_item_36_Template,3,0,\"ion-item\",8),core.Lb(),core.Lb(),core.Mb(37,\"ion-row\"),core.Mb(38,\"ion-col\",4),core.Mb(39,\"ion-button\",16),core.ic(40,\" Log Mileage \"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb()}if(2&rf){const _r0=core.dc(6),_r1=core.dc(14),_r3=core.dc(21),_r5=core.dc(28),_r7=core.dc(35);core.zb(15),core.bc(\"ngIf\",!_r1.valid&&_r1.touched),core.zb(7),core.bc(\"ngIf\",!_r3.valid&&_r3.touched),core.zb(7),core.bc(\"ngIf\",!_r5.valid&&_r5.touched),core.zb(7),core.bc(\"ngIf\",!_r7.valid&&_r7.touched),core.zb(3),core.bc(\"disabled\",!_r0.valid)}},directives:[ionic_angular.g,ionic_angular.p,ionic_angular.o,ionic_angular.e,fesm2015_forms.i,fesm2015_forms.e,fesm2015_forms.f,ionic_angular.f,ionic_angular.n,ionic_angular.d,ionic_angular.i,ionic_angular.k,ionic_angular.h,ionic_angular.w,fesm2015_forms.d,fesm2015_forms.g,fesm2015_forms.h,common.j,ionic_angular.t,ionic_angular.c],styles:[\"\"]}),MileageTrackerPage})()}];let mileage_tracker_routing_module_MileageTrackerPageRoutingModule=(()=>{class MileageTrackerPageRoutingModule{}return MileageTrackerPageRoutingModule.ɵmod=core.Hb({type:MileageTrackerPageRoutingModule}),MileageTrackerPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||MileageTrackerPageRoutingModule)},imports:[[router.j.forChild(routes)],router.j]}),MileageTrackerPageRoutingModule})(),mileage_tracker_module_MileageTrackerPageModule=(()=>{class MileageTrackerPageModule{}return MileageTrackerPageModule.ɵmod=core.Hb({type:MileageTrackerPageModule}),MileageTrackerPageModule.ɵinj=core.Gb({factory:function(t){return new(t||MileageTrackerPageModule)},imports:[[common.b,fesm2015_forms.b,ionic_angular.q,mileage_tracker_routing_module_MileageTrackerPageRoutingModule]]}),MileageTrackerPageModule})()}}]);","extractedComments":[]}