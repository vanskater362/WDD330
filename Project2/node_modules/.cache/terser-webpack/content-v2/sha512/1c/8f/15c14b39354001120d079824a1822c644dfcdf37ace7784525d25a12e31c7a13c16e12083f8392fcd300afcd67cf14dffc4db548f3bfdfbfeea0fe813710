{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{\"6i10\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return SPINNERS}));const SPINNERS={bubbles:{dur:1e3,circles:9,fn:(dur,index,total)=>{const animationDelay=`${dur*index/total-dur}ms`,angle=2*Math.PI*index/total;return{r:5,style:{top:`${9*Math.sin(angle)}px`,left:`${9*Math.cos(angle)}px`,\"animation-delay\":animationDelay}}}},circles:{dur:1e3,circles:8,fn:(dur,index,total)=>{const step=index/total,animationDelay=`${dur*step-dur}ms`,angle=2*Math.PI*step;return{r:5,style:{top:`${9*Math.sin(angle)}px`,left:`${9*Math.cos(angle)}px`,\"animation-delay\":animationDelay}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:\"none\",viewBox:\"24 24 48 48\",transform:\"translate(0,0)\",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(_,index)=>({r:6,style:{left:`${9-9*index}px`,\"animation-delay\":-110*index+\"ms\"}})},lines:{dur:1e3,lines:12,fn:(dur,index,total)=>({y1:17,y2:29,style:{transform:`rotate(${30*index+(index<6?180:-180)}deg)`,\"animation-delay\":`${dur*index/total-dur}ms`}})},\"lines-small\":{dur:1e3,lines:12,fn:(dur,index,total)=>({y1:12,y2:20,style:{transform:`rotate(${30*index+(index<6?180:-180)}deg)`,\"animation-delay\":`${dur*index/total-dur}ms`}})}}},KwJk:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return createColorClasses})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return getClassMap})),__webpack_require__.d(__webpack_exports__,\"c\",(function(){return hostContext})),__webpack_require__.d(__webpack_exports__,\"d\",(function(){return openURL}));const hostContext=(selector,el)=>null!==el.closest(selector),createColorClasses=color=>\"string\"==typeof color&&color.length>0?{\"ion-color\":!0,[`ion-color-${color}`]:!0}:void 0,getClassMap=classes=>{const map={};return(classes=>void 0!==classes?(Array.isArray(classes)?classes:classes.split(\" \")).filter(c=>null!=c).map(c=>c.trim()).filter(c=>\"\"!==c):[])(classes).forEach(c=>map[c]=!0),map},SCHEME=/^[a-z][a-z0-9+\\-.]*:/,openURL=async(url,ev,direction)=>{if(null!=url&&\"#\"!==url[0]&&!SCHEME.test(url)){const router=document.querySelector(\"ion-router\");if(router)return null!=ev&&ev.preventDefault(),router.push(url,direction)}return!1}},NqGI:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return attachComponent})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return detachComponent}));const attachComponent=async(delegate,container,component,cssClasses,componentProps)=>{if(delegate)return delegate.attachViewToDom(container,component,componentProps,cssClasses);if(\"string\"!=typeof component&&!(component instanceof HTMLElement))throw new Error(\"framework delegate is missing\");const el=\"string\"==typeof component?container.ownerDocument&&container.ownerDocument.createElement(component):component;return cssClasses&&cssClasses.forEach(c=>el.classList.add(c)),componentProps&&Object.assign(el,componentProps),container.appendChild(el),el.componentOnReady&&await el.componentOnReady(),el},detachComponent=(delegate,element)=>{if(element){if(delegate)return delegate.removeViewFromDom(element.parentElement,element);element.remove()}return Promise.resolve()}},Sy5g:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return MilesService}));var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"tk/3\"),src_environments_environment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"AytR\"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"2Vo4\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"w1tV\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"fXoL\");let MilesService=(()=>{class MilesService{constructor(http){this.http=http,this.tripList=[],this.tripListSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(this.tripList),this.currentTrips=this.tripListSubject.asObservable(),this.headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.c).set(\"Content-Type\",\"application/json\")}get currentTripsValue(){return this.tripListSubject.value}subMiles(input){return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl+\"/miles/submit\",input,{headers:this.headers}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)())}getTrips(userId,date){const params=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.d).set(\"userId\",userId).set(\"date\",date);return this.http.get(src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl+\"/miles/get\",{params:params}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)())}}return MilesService.ɵfac=function(t){return new(t||MilesService)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Qb(_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.a))},MilesService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Fb({token:MilesService,factory:MilesService.ɵfac,providedIn:\"root\"}),MilesService})()},XOPY:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AuthenticationService}));var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"tk/3\"),src_environments_environment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"AytR\"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"2Vo4\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"lJxs\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"w1tV\"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"fXoL\");let AuthenticationService=(()=>{class AuthenticationService{constructor(http){this.http=http,this.headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__.c).set(\"Content-Type\",\"application/json\"),this.currentUserSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(JSON.parse(localStorage.getItem(\"currentUser\"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(email,password){return this.http.post(`${src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl}/auth/login`,{email:email,password:password},{headers:this.headers}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(user=>(localStorage.setItem(\"currentUser\",JSON.stringify(user)),this.currentUserSubject.next(user),user)))}logout(){localStorage.removeItem(\"currentUser\"),this.currentUserSubject.next(null)}updateUser(input){localStorage.setItem(\"currentUser\",JSON.stringify(input)),this.currentUserSubject.next(input)}register(input){return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl+\"/auth/registerUser\",input,{headers:this.headers}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())}changePassword(curPasssword,password,userId){return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl+\"/auth/changePassword\",{curPasssword:curPasssword,password:password,userId:userId}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())}resetPassword(email){return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_1__.a.apiUrl+\"/auth/resetPassword\",{email:email}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())}}return AuthenticationService.ɵfac=function(t){return new(t||AuthenticationService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Qb(_angular_common_http__WEBPACK_IMPORTED_MODULE_0__.a))},AuthenticationService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Fb({token:AuthenticationService,factory:AuthenticationService.ɵfac,providedIn:\"root\"}),AuthenticationService})()},dymE:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"RegisterPageModule\",(function(){return register_module_RegisterPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),authentication_service_service=__webpack_require__(\"XOPY\");function RegisterPage_ion_grid_8_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-grid\"),core.Mb(1,\"ion-row\"),core.Mb(2,\"ion-col\"),core.Mb(3,\"p\"),core.ic(4,\"Account activated \"),core.Lb(),core.Lb(),core.Lb(),core.Mb(5,\"ion-row\"),core.Mb(6,\"ion-col\",6),core.Mb(7,\"ion-button\",7),core.ic(8,\" Login \"),core.Lb(),core.Lb(),core.Lb(),core.Lb())}function RegisterPage_ion_grid_9_ion_item_8_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",20),core.Mb(1,\"ion-label\",21),core.ic(2,\"First Name required.\"),core.Lb(),core.Lb())}function RegisterPage_ion_grid_9_ion_item_15_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",20),core.Mb(1,\"ion-label\",21),core.ic(2,\"Last Name required.\"),core.Lb(),core.Lb())}function RegisterPage_ion_grid_9_ion_item_22_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",20),core.Mb(1,\"ion-label\",21),core.ic(2,\"Should be a valid email address.\"),core.Lb(),core.Lb())}function RegisterPage_ion_grid_9_ion_item_29_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-item\",20),core.Mb(1,\"ion-label\",21),core.ic(2,\"Should be 6 characters long.\"),core.Lb(),core.Lb())}function RegisterPage_ion_grid_9_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-grid\"),core.Mb(1,\"ion-row\"),core.Mb(2,\"ion-col\",6),core.Mb(3,\"ion-item\"),core.Mb(4,\"ion-label\",8),core.ic(5,\"First Name\"),core.Lb(),core.Kb(6,\"ion-input\",9,10),core.Lb(),core.hc(8,RegisterPage_ion_grid_9_ion_item_8_Template,3,0,\"ion-item\",11),core.Lb(),core.Mb(9,\"ion-col\",6),core.Mb(10,\"ion-item\"),core.Mb(11,\"ion-label\",8),core.ic(12,\"Last Name\"),core.Lb(),core.Kb(13,\"ion-input\",12,13),core.Lb(),core.hc(15,RegisterPage_ion_grid_9_ion_item_15_Template,3,0,\"ion-item\",11),core.Lb(),core.Mb(16,\"ion-col\",6),core.Mb(17,\"ion-item\"),core.Mb(18,\"ion-label\",8),core.ic(19,\"Email\"),core.Lb(),core.Kb(20,\"ion-input\",14,15),core.Lb(),core.hc(22,RegisterPage_ion_grid_9_ion_item_22_Template,3,0,\"ion-item\",11),core.Lb(),core.Mb(23,\"ion-col\",6),core.Mb(24,\"ion-item\",16),core.Mb(25,\"ion-label\",8),core.ic(26,\"Password\"),core.Lb(),core.Kb(27,\"ion-input\",17,18),core.Lb(),core.hc(29,RegisterPage_ion_grid_9_ion_item_29_Template,3,0,\"ion-item\",11),core.Lb(),core.Lb(),core.Mb(30,\"ion-row\"),core.Mb(31,\"ion-col\",6),core.Mb(32,\"ion-button\",19),core.ic(33,\" Activate Account \"),core.Lb(),core.Lb(),core.Lb(),core.Mb(34,\"ion-row\"),core.Mb(35,\"ion-col\",6),core.Mb(36,\"ion-button\",7),core.ic(37,\" Login \"),core.Lb(),core.Lb(),core.Lb(),core.Lb()),2&rf){const _r3=core.dc(7),_r5=core.dc(14),_r7=core.dc(21),_r9=core.dc(28);core.Wb();const _r0=core.dc(2);core.zb(8),core.bc(\"ngIf\",!_r3.valid&&_r3.touched),core.zb(7),core.bc(\"ngIf\",!_r5.valid&&_r5.touched),core.zb(7),core.bc(\"ngIf\",!_r7.valid&&_r7.touched),core.zb(7),core.bc(\"ngIf\",!_r9.valid&&_r9.touched),core.zb(3),core.bc(\"disabled\",!_r0.valid)}}const routes=[{path:\"\",component:(()=>{class RegisterPage{constructor(authService,loadingCtrl,alertCtrl){this.authService=authService,this.loadingCtrl=loadingCtrl,this.alertCtrl=alertCtrl,this.isLoading=!1,this.accountSuccess=!1,this.registerData={firstName:\"\",lastName:\"\",email:\"\",password:\"\"},this.accountSuccess=!1}ngOnInit(){this.accountSuccess=!1}ngOnDestroy(){this.registerSub&&this.registerSub.unsubscribe(),this.accountSuccess=!1}onSubmit(form){form.valid&&(this.registerSub&&this.registerSub.unsubscribe(),this.registerData.firstName=form.value.firstName,this.registerData.lastName=form.value.lastName,this.registerData.email=form.value.email,this.registerData.password=form.value.password,this.loadingCtrl.create({keyboardClose:!0,message:\"Activating account...\"}).then(loadingEl=>{loadingEl.present(),this.registerSub=this.authService.register(this.registerData).subscribe(resData=>{loadingEl.dismiss(),this.accountSuccess=!0,form.reset()},errRes=>{loadingEl.dismiss(),this.showAlert(errRes.error.message)})}))}showAlert(message){this.alertCtrl.create({header:\"Activation failed\",message:message,buttons:[\"Okay\"]}).then(alertEl=>alertEl.present())}}return RegisterPage.ɵfac=function(t){return new(t||RegisterPage)(core.Jb(authentication_service_service.a),core.Jb(ionic_angular.v),core.Jb(ionic_angular.a))},RegisterPage.ɵcmp=core.Db({type:RegisterPage,selectors:[[\"app-register\"]],decls:10,vars:2,consts:[[\"color\",\"primary\"],[1,\"register-form\",3,\"ngSubmit\"],[\"f\",\"ngForm\"],[1,\"ion-no-padding\"],[\"size\",\"12\",1,\"ion-no-padding\"],[4,\"ngIf\"],[\"size\",\"10\",\"offset\",\"1\"],[\"routerLink\",\"/login\",\"expand\",\"full\",\"color\",\"secondary\"],[\"position\",\"floating\"],[\"type\",\"text\",\"name\",\"firstName\",\"ngModel\",\"\",\"required\",\"\"],[\"firstNameCtrl\",\"ngModel\"],[\"lines\",\"none\",4,\"ngIf\"],[\"type\",\"text\",\"name\",\"lastName\",\"ngModel\",\"\",\"required\",\"\"],[\"lastNameCtrl\",\"ngModel\"],[\"type\",\"text\",\"name\",\"email\",\"ngModel\",\"\",\"required\",\"\",\"email\",\"\"],[\"emailCtrl\",\"ngModel\"],[1,\"margin-top-5\"],[\"type\",\"password\",\"name\",\"password\",\"ngModel\",\"\",\"required\",\"\"],[\"passwordCtrl\",\"ngModel\"],[\"type\",\"submit\",\"expand\",\"full\",\"color\",\"secondary\",3,\"disabled\"],[\"lines\",\"none\"],[1,\"error-danger\"]],template:function(rf,ctx){if(1&rf){const _r11=core.Nb();core.Mb(0,\"ion-content\",0),core.Mb(1,\"form\",1,2),core.Ub(\"ngSubmit\",(function(){core.ec(_r11);const _r0=core.dc(2);return ctx.onSubmit(_r0)})),core.Mb(3,\"ion-grid\",3),core.Mb(4,\"ion-row\"),core.Mb(5,\"ion-col\",4),core.Mb(6,\"h1\"),core.ic(7,\"Orignizd Logo Here\"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.hc(8,RegisterPage_ion_grid_8_Template,9,0,\"ion-grid\",5),core.hc(9,RegisterPage_ion_grid_9_Template,38,5,\"ion-grid\",5),core.Lb(),core.Lb()}2&rf&&(core.zb(8),core.bc(\"ngIf\",ctx.accountSuccess),core.zb(1),core.bc(\"ngIf\",!ctx.accountSuccess))},directives:[ionic_angular.e,fesm2015_forms.i,fesm2015_forms.e,fesm2015_forms.f,ionic_angular.h,ionic_angular.q,ionic_angular.d,common.j,ionic_angular.c,ionic_angular.y,router.h,ionic_angular.l,ionic_angular.n,ionic_angular.k,ionic_angular.z,fesm2015_forms.d,fesm2015_forms.g,fesm2015_forms.h,fesm2015_forms.a],styles:[\".register-form[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;text-align:center;width:100%;transform:translate(-50%,-50%)}.register-form[_ngcontent-%COMP%]   .secondary-item-text[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast)}.register-form[_ngcontent-%COMP%]   .error-danger[_ngcontent-%COMP%]{color:var(--ion-color-danger)}\"]}),RegisterPage})()}];let register_routing_module_RegisterPageRoutingModule=(()=>{class RegisterPageRoutingModule{}return RegisterPageRoutingModule.ɵmod=core.Hb({type:RegisterPageRoutingModule}),RegisterPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||RegisterPageRoutingModule)},imports:[[router.j.forChild(routes)],router.j]}),RegisterPageRoutingModule})(),register_module_RegisterPageModule=(()=>{class RegisterPageModule{}return RegisterPageModule.ɵmod=core.Hb({type:RegisterPageModule}),RegisterPageModule.ɵinj=core.Gb({factory:function(t){return new(t||RegisterPageModule)},imports:[[common.b,fesm2015_forms.b,ionic_angular.t,register_routing_module_RegisterPageRoutingModule]]}),RegisterPageModule})()},xgmX:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return hapticImpact})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return hapticSelectionStart})),__webpack_require__.d(__webpack_exports__,\"c\",(function(){return hapticSelectionChanged})),__webpack_require__.d(__webpack_exports__,\"d\",(function(){return hapticSelectionEnd})),__webpack_require__.d(__webpack_exports__,\"e\",(function(){return hapticSelection}));const HapticEngine={getEngine(){const win=window;return win.TapticEngine||win.Capacitor&&win.Capacitor.isPluginAvailable(\"Haptics\")&&win.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(options){const engine=this.getEngine();if(!engine)return;const style=this.isCapacitor()?options.style.toUpperCase():options.style;engine.impact({style:style})},notification(options){const engine=this.getEngine();if(!engine)return;const style=this.isCapacitor()?options.style.toUpperCase():options.style;engine.notification({style:style})},selection(){this.impact({style:\"light\"})},selectionStart(){const engine=this.getEngine();engine&&(this.isCapacitor()?engine.selectionStart():engine.gestureSelectionStart())},selectionChanged(){const engine=this.getEngine();engine&&(this.isCapacitor()?engine.selectionChanged():engine.gestureSelectionChanged())},selectionEnd(){const engine=this.getEngine();engine&&(this.isCapacitor()?engine.selectionChanged():engine.gestureSelectionChanged())}},hapticSelection=()=>{HapticEngine.selection()},hapticSelectionStart=()=>{HapticEngine.selectionStart()},hapticSelectionChanged=()=>{HapticEngine.selectionChanged()},hapticSelectionEnd=()=>{HapticEngine.selectionEnd()},hapticImpact=options=>{HapticEngine.impact(options)}}}]);","extractedComments":[]}