{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["export default \"<ion-content color=\\\"primary\\\">\\n  <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(f)\\\" class=\\\"login-form\\\">\\n    \\n    <ion-grid class=\\\"ion-no-padding\\\">\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\n        <!--<img src=\\\"../assets/img/logo.png\\\">-->\\n        <h1>Orginizd Logo here</h1>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  \\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Username</ion-label>\\n            <ion-input \\n              type=\\\"text\\\" \\n              name=\\\"email\\\" \\n              autofocus=\\\"true\\\"\\n              ngModel \\n              required \\n              #emailCtrl=\\\"ngModel\\\"\\n            ></ion-input>\\n          </ion-item>\\n          <ion-item *ngIf=\\\"!emailCtrl.valid && emailCtrl.touched\\\" lines=\\\"none\\\">\\n              <ion-label class=\\\"error-danger\\\">Should be a valid email address.</ion-label>\\n          </ion-item>\\n          <ion-item class=\\\"margin-top-5\\\">\\n            <ion-label position=\\\"floating\\\">Password</ion-label>\\n            <ion-input \\n              type=\\\"password\\\" \\n              name=\\\"password\\\"\\n              ngModel \\n              required\\n              #passwordCtrl=\\\"ngModel\\\"\\n            ></ion-input>\\n          </ion-item>\\n          <ion-item *ngIf=\\\"!passwordCtrl.valid && passwordCtrl.touched\\\" lines=\\\"none\\\">\\n              <ion-label class=\\\"error-danger\\\">Should be 6 characters long.</ion-label>\\n          </ion-item>\\n          <div class=\\\"forgot-box ion-text-right\\\">\\n            <!--<a class=\\\"btn-forgot\\\" routerLink=\\\"/auth/forgot\\\">Forgot Password?</a>-->\\n          </div>\\n          <div class=\\\"ion-text-center\\\">\\n            <ion-button \\n              type=\\\"submit\\\" \\n              color=\\\"secondary\\\" \\n              expand=\\\"block\\\"\\n              [disabled]=\\\"!f.valid\\\"\\n            >\\n                LOGIN\\n            </ion-button>            \\n          </div>\\n          <div class=\\\"btn-register\\\">\\n            <a routerLink=\\\"/login/register\\\" class=\\\"secondary-item-text\\\">\\n                REGISTER\\n            </a>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  },\n  {\n    path: 'register',\n    loadChildren: () => import('./register/register.module').then( m => m.RegisterPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \".login-form {\\n  top: 50%;\\n  left: 50%;\\n  position: absolute;\\n  text-align: center;\\n  width: 100%;\\n  transform: translate(-50%, -50%);\\n}\\n.login-form .primary-item {\\n  --background: var(--ion-color-primary);\\n  --background-focused: var(--ion-color-primary);\\n}\\n.login-form .secondary-item-text {\\n  color: var(--ion-color-primary-contrast);\\n}\\n.login-form .error-danger {\\n  color: var(--ion-color-danger);\\n}\\n.login-form .btn-register {\\n  padding-top: 10px;\\n}\\n.login-form .margin-top-5 {\\n  margin-top: 5px;\\n}\\n.login-form .forgot-box {\\n  padding: 10px 0;\\n}\\n.login-form .forgot-box .btn-forgot {\\n  color: var(--ion-color-primary-contrast);\\n}\\n@media (prefers-color-scheme: dark) {\\n  .login-form .secondary-item-text {\\n    color: var(--ion-color-basic-contrast);\\n  }\\n  .login-form .forgot-box .btn-forgot {\\n    color: var(--ion-color-basic-contrast);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vRDpcXE9uZSBEcml2ZVxcT25lRHJpdmUgLSBCWVUtSWRhaG9cXFNjaG9vbFxcV0REIDMzMFxcV0REMzMwXFxQcm9qZWN0Mi9zcmNcXGFwcFxcbG9naW5cXGxvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0csUUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGdDQUFBO0FDQ0g7QURBRztFQUNJLHNDQUFBO0VBQ0EsOENBQUE7QUNFUDtBREFHO0VBQ0ksd0NBQUE7QUNFUDtBREFHO0VBQ0ksOEJBQUE7QUNFUDtBREFHO0VBQ0ksaUJBQUE7QUNFUDtBREFHO0VBQ0ksZUFBQTtBQ0VQO0FEQUc7RUFDSSxlQUFBO0FDRVA7QURETztFQUNJLHdDQUFBO0FDR1g7QURFQTtFQUVPO0lBQ0ksc0NBQUE7RUNBVDtFREdTO0lBQ0ksc0NBQUE7RUNEYjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luLWZvcm17XHJcbiAgIHRvcDogNTAlO1xyXG4gICBsZWZ0OiA1MCU7XHJcbiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICB3aWR0aDogMTAwJTtcclxuICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgIC5wcmltYXJ5LWl0ZW17XHJcbiAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgICAgIC0tYmFja2dyb3VuZC1mb2N1c2VkOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgIH1cclxuICAgLnNlY29uZGFyeS1pdGVtLXRleHR7XHJcbiAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QpO1xyXG4gICB9XHJcbiAgIC5lcnJvci1kYW5nZXJ7XHJcbiAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XHJcbiAgIH1cclxuICAgLmJ0bi1yZWdpc3RlcntcclxuICAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICB9XHJcbiAgIC5tYXJnaW4tdG9wLTV7XHJcbiAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgIH1cclxuICAgLmZvcmdvdC1ib3h7XHJcbiAgICAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgICAgICAuYnRuLWZvcmdvdHtcclxuICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QpO1xyXG4gICAgICAgfVxyXG4gICB9XHJcbn1cclxuXHJcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcclxuICAgLmxvZ2luLWZvcm17XHJcbiAgICAgICAuc2Vjb25kYXJ5LWl0ZW0tdGV4dHtcclxuICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWJhc2ljLWNvbnRyYXN0KTtcclxuICAgICAgIH1cclxuICAgICAgIC5mb3Jnb3QtYm94e1xyXG4gICAgICAgICAgIC5idG4tZm9yZ290e1xyXG4gICAgICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWJhc2ljLWNvbnRyYXN0KTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcbiAgIH1cclxufSIsIi5sb2dpbi1mb3JtIHtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbn1cbi5sb2dpbi1mb3JtIC5wcmltYXJ5LWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgLS1iYWNrZ3JvdW5kLWZvY3VzZWQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbi5sb2dpbi1mb3JtIC5zZWNvbmRhcnktaXRlbS10ZXh0IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0KTtcbn1cbi5sb2dpbi1mb3JtIC5lcnJvci1kYW5nZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG4ubG9naW4tZm9ybSAuYnRuLXJlZ2lzdGVyIHtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG59XG4ubG9naW4tZm9ybSAubWFyZ2luLXRvcC01IHtcbiAgbWFyZ2luLXRvcDogNXB4O1xufVxuLmxvZ2luLWZvcm0gLmZvcmdvdC1ib3gge1xuICBwYWRkaW5nOiAxMHB4IDA7XG59XG4ubG9naW4tZm9ybSAuZm9yZ290LWJveCAuYnRuLWZvcmdvdCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdCk7XG59XG5cbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgLmxvZ2luLWZvcm0gLnNlY29uZGFyeS1pdGVtLXRleHQge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYmFzaWMtY29udHJhc3QpO1xuICB9XG4gIC5sb2dpbi1mb3JtIC5mb3Jnb3QtYm94IC5idG4tZm9yZ290IHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWJhc2ljLWNvbnRyYXN0KTtcbiAgfVxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport { AuthenticationService } from '../services/authentication-service.service'\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  isLoading = false;\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private router: Router,\n    private loadingCtrl: LoadingController,\n    private alertCtrl: AlertController) { \n      if (this.authenticationService.currentUserValue) {\n        this.router.navigate(['/mileage-tracker']);\n      }\n  }\n\n  ngOnInit() {\n  }\n\n  authenticate(email: string, password: string) {\n    this.isLoading = true;\n    this.loadingCtrl\n      .create({ keyboardClose: true, message: 'Logging in...' })\n      .then(loadingEl => {\n        loadingEl.present();\n        this.authenticationService.login(email, password)\n          .pipe(first())\n          .subscribe(\n            resData => {\n              loadingEl.dismiss();\n              document.location.href = '/mileage-tracker';\n            },\n            errRes => {\n              loadingEl.dismiss();\n              const message = 'Authentication Failed.';\n              this.showAlert(message);\n            }\n          );\n      });\n  }\n\n  private showAlert(message: string) {\n    this.alertCtrl\n      .create({\n        header: 'Authentication failed',\n        message,\n        buttons: ['Okay']\n      })\n      .then(alertEl => alertEl.present());\n  }\n\n  onSubmit(form: NgForm) {\n    if (!form.valid) {\n      return;\n    }\n    const email = form.value.email;\n    const password = form.value.password;\n\n    this.authenticate(email, password);\n    form.reset();\n  }\n}\n\n"],"sourceRoot":"webpack:///"}